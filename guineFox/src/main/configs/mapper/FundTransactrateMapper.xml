<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.guinea.datadb.mysql.persistence.FundTransactrateMapper" >
  <resultMap id="BaseResultMap" type="com.guinea.datadb.mysql.entity.FundTransactrate" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Dec 09 16:31:53 CST 2015.
    -->
    <id column="id" property="id" jdbcType="BIGINT" />
    <result column="scode" property="scode" jdbcType="VARCHAR" />
    <result column="scountg" property="scountg" jdbcType="INTEGER" />
    <result column="scounts" property="scounts" jdbcType="SMALLINT" />
    <result column="tRatio" property="tratio" jdbcType="DECIMAL" />
    <result column="tType" property="ttype" jdbcType="SMALLINT" />
    <result column="tTime" property="ttime" jdbcType="TIMESTAMP" />
    <result column="mvalue" property="mvalue" jdbcType="DECIMAL" />
    <result column="uid" property="uid" jdbcType="BIGINT" />
  </resultMap>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Long" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Dec 09 16:31:53 CST 2015.
    -->
    delete from fund_transactrate
    where id = #{id,jdbcType=BIGINT}
  </delete>
  <insert id="insert" parameterType="com.guinea.datadb.mysql.entity.FundTransactrate" useGeneratedKeys="true">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Dec 09 16:31:53 CST 2015.
    -->
    <selectKey resultType="java.lang.Long" keyProperty="id" order="AFTER" >
      SELECT LAST_INSERT_ID()
    </selectKey>
    insert into fund_transactrate (scode, scountg, scounts, 
      tRatio, tType, tTime, 
      mvalue, uid)
    values (#{scode,jdbcType=VARCHAR}, #{scountg,jdbcType=INTEGER}, #{scounts,jdbcType=SMALLINT}, 
      #{tratio,jdbcType=DECIMAL}, #{ttype,jdbcType=SMALLINT}, #{ttime,jdbcType=TIMESTAMP}, 
      #{mvalue,jdbcType=DECIMAL}, #{uid,jdbcType=BIGINT})
  </insert>
  <update id="updateByPrimaryKey" parameterType="com.guinea.datadb.mysql.entity.FundTransactrate" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Dec 09 16:31:53 CST 2015.
    -->
    update fund_transactrate
    set scode = #{scode,jdbcType=VARCHAR},
      scountg = #{scountg,jdbcType=INTEGER},
      scounts = #{scounts,jdbcType=SMALLINT},
      tRatio = #{tratio,jdbcType=DECIMAL},
      tType = #{ttype,jdbcType=SMALLINT},
      tTime = #{ttime,jdbcType=TIMESTAMP},
      mvalue = #{mvalue,jdbcType=DECIMAL},
      uid = #{uid,jdbcType=BIGINT}
    where id = #{id,jdbcType=BIGINT}
  </update>
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.Long" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Dec 09 16:31:53 CST 2015.
    -->
    select id, scode, scountg, scounts, tRatio, tType, tTime, mvalue, uid
    from fund_transactrate
    where id = #{id,jdbcType=BIGINT}
  </select>
  <select id="selectAll" resultMap="BaseResultMap" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Dec 09 16:31:53 CST 2015.
    -->
    select id, scode, scountg, scounts, tRatio, tType, tTime, mvalue, uid
    from fund_transactrate
  </select>

  <select id="findByPage" parameterType="java.util.Map" resultMap="BaseResultMap">
    select ft.id, ft.scode,fs.sName as ssname, ft.scountg, ft.scounts, ft.tRatio, ft.tType, ft.tTime, ft.mvalue
    from fund_transactrate ft LEFT JOIN fund_stock fs ON ft.scode= fs.sCode
    <where>
      <if test="null!=id and ''!=id">
        and ft.`id` = #{id}
      </if>
      <if test="null!=ttype and ''!=ttype">
        and ft.`ttype` = #{ttype}
      </if>
      <if test="null!=sttime and ''!=sttime">
        and ft.`ttime` &gt; #{sttime}
      </if>
      <if test="null!=ettime and ''!=ettime">
        and ft.`ttime` &lt; #{ettime}
      </if>
      <if test="null!=scode and ''!=scode">
        and ft.`scode` LIKE CONCAT('%',#{scode},'%')
      </if>
      <if test="null!=ssname and ''!=ssname">
        and fs.sName LIKE CONCAT('%',#{ssname},'%')
      </if>
    </where>
  </select>
</mapper>